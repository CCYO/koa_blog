<head><link rel="icon" type="image/x-icon" href="/public/imgs/favicon/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/public/imgs/favicon/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/public/imgs/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/public/imgs/favicon/favicon-48x48.png"><link rel="manifest" href="/public/imgs/favicon/manifest.webmanifest"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#fff"><meta name="application-name" content="koa-blog"><link rel="apple-touch-icon" sizes="57x57" href="/public/imgs/favicon/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/public/imgs/favicon/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/public/imgs/favicon/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/public/imgs/favicon/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/public/imgs/favicon/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/public/imgs/favicon/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/public/imgs/favicon/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/public/imgs/favicon/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/public/imgs/favicon/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/public/imgs/favicon/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/public/imgs/favicon/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="koa-blog"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-640x1136.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-1136x640.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-750x1334.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-1334x750.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1125x2436.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2436x1125.png"><link rel="apple-touch-startup-image" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1170x2532.png"><link rel="apple-touch-startup-image" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2532x1170.png"><link rel="apple-touch-startup-image" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1179x2556.png"><link rel="apple-touch-startup-image" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2556x1179.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-828x1792.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-1792x828.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1242x2688.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2688x1242.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1242x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2208x1242.png"><link rel="apple-touch-startup-image" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1284x2778.png"><link rel="apple-touch-startup-image" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2778x1284.png"><link rel="apple-touch-startup-image" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1290x2796.png"><link rel="apple-touch-startup-image" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2796x1290.png"><link rel="apple-touch-startup-image" media="(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1488x2266.png"><link rel="apple-touch-startup-image" media="(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2266x1488.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1536x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2048x1536.png"><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1620x2160.png"><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2160x1620.png"><link rel="apple-touch-startup-image" media="(device-width: 820px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1640x2160.png"><link rel="apple-touch-startup-image" media="(device-width: 820px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2160x1640.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1668x2388.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2388x1668.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-1668x2224.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2224x1668.png"><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/public/imgs/favicon/apple-touch-startup-image-2048x2732.png"><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/public/imgs/favicon/apple-touch-startup-image-2732x2048.png"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/public/imgs/favicon/mstile-144x144.png"><meta name="msapplication-config" content="/public/imgs/favicon/browserconfig.xml"><link rel="yandex-tableau-widget" href="/public/imgs/favicon/yandex-browser-manifest.json"><link href="/public/css/common.d2a96.min.css" rel="stylesheet"><link href="/public/css/user.5d04a.min.css" rel="stylesheet"></head><% let G_PAGE = JSON.parse('{"API":{"EDIT_BLOG":"/blog/edit","CREATE_BLOG":"/api/blog","REMOVE_BLOGS":"/api/blog","CANCEL_FOLLOW":"/api/user/cancelFollow","GET_PAGINATION":"/api/blog/list","FOLLOW":"/api/user/follow"},"SELECTOR":{"PAGE_NUM_LINK":".pagination .pagination .page-link"},"DATASET":{"KEY":{"BLOG_ID":"blog-id","REMOVE_BLOG":"remove-blog","USER_ID":"user-id","PAGINATION_NUM":"pagination","PAGE_NUM":"page","PAGE_TURN":"turn","BLOG_STATUS":"status"},"VALUE":{"REMOVE_BLOG_LIST":"list","REMOVE_BLOG_ITEM":"item","PREVIOUS_PAGE":"previous-page","NEXT_PAGE":"next-page","PREVIOUS_PAGINATION":"previous-pagination","NEXT_PAGINATION":"next-pagination","BLOG_STATUS_PUBLIC":"public"}},"ID":{"CANCEL_FOLLOW":"cancelFollow","FOLLOW":"follow","IDOL_LIST":"idolList","FANS_LIST":"fansList","NEW_BLOG":"new_blog","NEW_BLOG_TITLE":"new_blog_title","NEW_BLOG_MODAL":"new_blog_modal"},"PAGINATION":{"BLOG_COUNT":5,"PAGE_COUNT":2}}') %> <%- include('../wedgets/header/index', {title}) %> <main class="container-md" style="opacity: 0;"><div class="card"><div class="card-header"><h3>個人頁面</h3></div><div class="card-body"><div class="row"><div class="col-lg-8"><div id="user-info" class="card"><div class="row align-items-center justify-content-center"><div class="col-sm-4"><div class="avatar-box"><div class="ratio ratio-1x1"><img src="<%= currentUser.avatar %>" class="img-fluid" alt="..."></div></div> <% if(!isSelf){ %> <div class="text-center mb-3"><button id="cancelFollow" type="button" class="btn btn-danger btn-sm follow">取消追蹤</button> <button id="follow" type="button" class="btn btn-success btn-sm follow">追蹤</button></div> <% } %> </div><div class="col-sm-8"><div class="card-body"><h5 class="card-title">主要資料</h5><hr><p>信箱： <%= currentUser.email %> </p><p>暱稱： <%= currentUser.nickname %> </p></div></div></div></div><div id="blog-info"> <% if(isSelf){ %> <button type="button" class="btn btn-primary mb-1" data-bs-toggle="modal" data-bs-target="<%= `#${G_PAGE.ID.NEW_BLOG_MODAL}` %>">撰寫新文章</button><div class="modal fade" tabindex="-1" aria-labelledby="newBlogModalLabel" aria-hidden="true" id="<%= G_PAGE.ID.NEW_BLOG_MODAL%>"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div><label for="new_blog_title" class="form-label">文章標題</label> <input name="title" class="form-control" id="new_blog_title" placeholder="文章標題"><div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消建立文章</button> <button id="new_blog" type="button" class="btn btn-primary">建立文章</button></div></div></div></div> <% } %>  <%- include('./components/blog_card', { blogs, ejs_render, isSelf, pagination: G_PAGE.PAGINATION }) %> </div></div><div class="col-lg-4"><div id="follow-info"> <%- include('./components/relationship_list', { relationShip, ejs_render}) %> </div></div></div></div></div></main> <%- include('../wedgets/footer/index') %> <script defer="defer">!function(){"use strict";var n,r,t,o,e,u={},i={};function f(n){var r=i[n];if(void 0!==r)return r.exports;var t=i[n]={id:n,loaded:!1,exports:{}};return u[n].call(t.exports,t,t.exports,f),t.loaded=!0,t.exports}f.m=u,n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=function(n){n&&n.d<1&&(n.d=1,n.forEach((function(n){n.r--})),n.forEach((function(n){n.r--?n.r++:n()})))},f.a=function(e,u,i){var f;i&&((f=[]).d=-1);var c,a,p,l=new Set,s=e.exports,d=new Promise((function(n,r){p=r,a=n}));d[r]=s,d[n]=function(n){f&&n(f),l.forEach(n),d.catch((function(){}))},e.exports=d,u((function(e){var u;c=function(e){return e.map((function(e){if(null!==e&&"object"==typeof e){if(e[n])return e;if(e.then){var u=[];u.d=0,e.then((function(n){i[r]=n,o(u)}),(function(n){i[t]=n,o(u)}));var i={};return i[n]=function(n){n(u)},i}}var f={};return f[n]=function(){},f[r]=e,f}))}(e);var i=function(){return c.map((function(n){if(n[t])throw n[t];return n[r]}))},a=new Promise((function(r){(u=function(){r(i)}).r=0;var t=function(n){n!==f&&!l.has(n)&&(l.add(n),n&&!n.d&&(u.r++,n.push(u)))};c.map((function(r){r[n](t)}))}));return u.r?a:i()}),(function(n){n?p(d[t]=n):a(s),o(f)})),f&&f.d<0&&(f.d=0)},e=[],f.O=function(n,r,t,o){if(!r){var u=1/0;for(p=0;p<e.length;p++){r=e[p][0],t=e[p][1],o=e[p][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||u>=o)&&Object.keys(f.O).every((function(n){return f.O[n](r[c])}))?r.splice(c--,1):(i=!1,o<u&&(u=o));if(i){e.splice(p--,1);var a=t();void 0!==a&&(n=a)}}return n}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[r,t,o]},f.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return f.d(r,{a:r}),r},f.d=function(n,r){for(var t in r)f.o(r,t)&&!f.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),f.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},f.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n},function(){var n={666:0};f.O.j=function(r){return 0===n[r]};var r=function(r,t){var o,e,u=t[0],i=t[1],c=t[2],a=0;if(u.some((function(r){return 0!==n[r]}))){for(o in i)f.o(i,o)&&(f.m[o]=i[o]);if(c)var p=c(f)}for(r&&r(t);a<u.length;a++)e=u[a],f.o(n,e)&&n[e]&&n[e][0](),n[e]=0;return f.O(p)},t=self.webpackChunk=self.webpackChunk||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}()}();</script><script defer="defer" src="/public/js/vendors.f7ce3.js"></script><script defer="defer" src="/public/js/common.8d207.js"></script><script defer="defer" src="/public/js/user.d74ed.js"></script>