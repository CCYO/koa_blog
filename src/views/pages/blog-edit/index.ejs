<% let G_PAGE = JSON.parse(--CONS.BLOG_EDIT--) %>
<!DOCTYPE html>
<html lang="zh-tw">

<head>
  <%- include('../wedgets/header/index', {title}) %>
</head>

<body>
  <%- include('../wedgets/pageLoading/index') %>
  <%- include('../wedgets/navbar/index') %>
  <main class="container-md main" style="display: none;">
    <div class="card">
      <div class="card-header">
        <h3>編輯文章</h3>
      </div>
      <div class="card-body">
        <div class="title-box">
          <button id="<%= G_PAGE.ID.UPDATE_TITLE %>" class="btn btn-outline-primary btn-sm" disabled>修改標題</button>
          <input type="text" id="<%= G_PAGE.ID.TITLE %>" name="title" class="form-control" value="<%= blog.title %>">
          <div></div>
        </div>
        <div id="editor-wrapper">
          <div id="<%= G_PAGE.ID.EDITOR_TOOLBAR_CONTAINER %>"></div>
          <div id="<%= G_PAGE.ID.EDITOR_CONTAINER %>"></div>
          <div class="">
            <span id="<%= G_PAGE.ID.BLOG_HTML_STRING_COUNT %>"></span>
          </div>
        </div>
      </div>
      <div class="card-footer">
        <p>
          <% if (blog.show) { %>
          <span id="time">
            當前文章【已公開】於<%= blog.time.slice(0, 16) %>發布
          </span>
          <button id="showNow" class="btn btn-outline-primary btn-sm">更新至當前時間</button>
          <% } else { %>
          <span id="time">
            當前文章【編輯中】於<%= blog.time.slice(0, 16) %>更新
          </span>
          <button id="showNow" style="display: none" class="btn btn-outline-primary btn-sm">更新至當前時間</button>
          <% } %>
        </p>
        <label>
          <span>修改文章狀態：</span>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="<%= G_PAGE.ID.STATUS %>" <%= blog.show ? 'checked' : '' %> />
            <label class="form-check-label" for="<%= G_PAGE.ID.STATUS %>"></label>
          </div>
        </label>
        <div>
          <button id="<%= G_PAGE.ID.UPDATE_BLOG %>" class="btn btn-outline-primary btn-sm" disabled>存檔</button>
          <button id="preview" class="btn btn-outline-primary btn-sm">預覽</button>
          <button id="leave" class="btn btn-outline-primary btn-sm">取消編輯</button>
          <button id="<%= G_PAGE.ID.REMOVE_BLOG %>" class="btn btn-outline-danger btn-sm">刪除此篇文章</button>
        </div>
      </div>
    </div>
  </main>
  <%- include('../wedgets/footer/index') %>
</body>

</html>