<% let G_PAGE = SELECTOR.SETTING %>
<!DOCTYPE html>
<html lang="zh-tw">

<head>
  <!-- 傳入 title -->
  <%- include('../wedgets/header/index') %>
</head>

<body>
  <%- include('../wedgets/pageLoading/index') %>
  <%- include('../wedgets/navbar/index') %>
  <main class="container-md" style="display: none;">
    <div class="modal fade" id="<%= G_PAGE.ID.MODAL_ORIGIN_PASSWORD %>" tabindex="-1" aria-labelledby="<%= G_PAGE.ID.MODAL_ORIGIN_PASSWORD %>" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">請先驗證原密碼</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="input-box">
              <label class="form-label">原密碼
                <input type="password" class="form-control" name="<%= G_PAGE.NAME.ORIGIN_PASSWORD %>" data-retry='yes' autocomplete="off">
                <div></div>
              </label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
            <button type="button" id="<%= G_PAGE.ID.CHECK_ORIGIN_PASSWORD %>" class="btn btn-primary">確定</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="<%= G_PAGE.ID.MODAL_REGISTER_CODE %>" tabindex="-1" aria-labelledby="<%= G_PAGE.ID.MODAL_REGISTER_CODE %>" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">驗證信箱</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="input-box">
              <label class="form-label">
                <input type="number" name="<%= G_PAGE.NAME.EMAIL_CODE %>" class="form-control" autocomplete="off" disabled>
                <div></div>
              </label>
            </div>
            <button type="button" id="<%= G_PAGE.ID.MAIL_REGISTER_CODE %>" class="btn btn-primary">取得驗證碼</button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
            <button type="button" id="<%= G_PAGE.ID.CHECK_REGISTER_CODE %>" class="btn btn-primary" disabled>驗證</button>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-8 mx-auto">
        <div class="card">
          <div class="card-header">
            <h3>修改個人資訊</h3>
          </div>
          <div class="card-body">
            <form id="<%= G_PAGE.ID.FORM %>">
              <div class="input-box">
                <label class="form-label">信箱
                  <input type="text" class="form-control" name="<%=  G_PAGE.NAME.EMAIL %>" aria-describedby="email_help" autocomplete="off" placeholder="<%= currentUser.email %>">
                  <div></div>
                </label>
                <button class="btn btn-primary mt-3" type="button" id="<%=  G_PAGE.ID.SHOW_MODAL_EMAIL_CODE %>" disabled>驗證信箱</button>
              </div>

              <div class="input-box">
                <label class="form-label">新密碼
                  <input type="password" class="form-control" name="<%= G_PAGE.NAME.NEW_PASSWORD %>" data-retry='yes' autocomplete="off">
                  <div></div>
                </label>
              </div>
              <div class="input-box">
                <label class="form-label">密碼確認
                  <input type="password" class="form-control" name="<%= G_PAGE.NAME.PASSWORD_AGAIN %>" data-retry='yes' autocomplete="off" disabled>
                  <div></div>
                </label>
              </div>
              <div class="input-box">
                <label class="form-label">暱稱
                  <input type="text" class="form-control" name="nickname" autocomplete="off" placeholder="<%= currentUser.nickname ? currentUser.nickname : '' %>">
                  <div></div>
                </label>
              </div>
              <div class="input-box">
                <label class="form-label">年齡
                  <input type="number" class="form-control" name="age" min="0" max="120" placeholder="<%= currentUser.age ? currentUser.age : '' %>">
                  <div></div>
                </label>
              </div>
              <div class="input-box">
                <span class="p-1">頭像</span>
                <div class="avatar-box">
                  <div class="ratio ratio-1x1">
                    <img id="<%= G_PAGE.ID.IMG_AVATAR %>" src="<%= currentUser.avatar %>" alt="">
                  </div>
                </div>
                <label class="form-label mt-1">
                  <input type="file" class="form-control" name="avatar" autocomplete="off">
                  <div></div>
                </label>
              </div>
              <button type="submit" name="submit" class="btn btn-primary mt-3">送出資料</button>
              <button type="button" id="<%= G_PAGE.ID.CANCEL %>" class="btn btn-primary mt-3">取消修改</button>

            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
  <%- include('../wedgets/footer/index') %>
</body>

</html>